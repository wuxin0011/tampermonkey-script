<!DOCTYPE html>

<body>
  <html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>编写页面</title>
    <style>
      .m-container,
      .m-container .btn,
      .m-container table,
      .m-container table tbody,
      .m-container table thead,
      .m-container table tr {
        margin: 0 !important;
        padding: 0 !important;
        border: none;
        outline: none;
      }

      .m-container {
        --m-font-color: #fff;
        --m-container-backgournd-color: #fff;
        --m-container-width: 700px;
        --m-container-width-close: -700px;
        --m-container-height: 400px;
        --m-container-operation-right-width: 150px;
        --m-container-input-width: 150px;
        --m-container-box-transition: all 0.4s ease-in-out;
        --m-container-select-width: var(--m-container-input-width);
        --m-container-input-outline: 1px solid rgba(8, 125, 235, 0.6) !important;
      }

      .m-container {
        box-sizing: border-box !important;
        position: fixed !important;
        flex-direction: column !important;
        width: var(--m-container-width) !important; 
        height: var(--m-container-height) !important;
        top: 100px !important;
        left: 50% !important;
        border-radius: 10px !important;
        overflow: hidden !important;
        background-color: var(--m-container-backgournd-color) !important;
        z-index: 999999999 !important;
        padding: 15px !important;
        transition: var(--m-container-box-transition) !important;
        box-shadow: 20px 20px 10px rgba(0, 0, 0, 0.1),
          -1px -2px 18px rgba(0, 0, 0, 0.1) !important;

        opacity: 0;
        transform: translate(-50%, -100%);
      }


      .m-container-is-active {
        opacity: 1;
        transform: translate(-50%, 0%);
      }



      .m-container-box {
        display: flex !important;
        flex-direction: column !important;
        transition: var(--m-container-box-transition) !important;
      }

      .m-container-main {
        position: relative !important;
        background-color: #ddd !important;
      }

      #m-container-box1,
      #m-container-box2 {
        position: absolute !important;
        transition: var(--m-container-box-transition) !important;
        width: var(--m-container-width);
        overflow: hidden scroll;
      }

      .m-container .operation {
        box-sizing: border-box !important;
        height: auto !important;
        justify-content: start !important;
      }


      .m-container input[type="text"] {
        width: var(--m-container-input-width) !important;
        box-sizing: border-box !important;
        border: 1px solid rgba(8, 125, 235, 0.6) !important;
        outline: none !important;
        padding: 5px 10px !important;
        border-radius: 20px !important;
        transition: var(--m-container-box-transition);
      }

      .m-container input:focus {
        border: 1px solid rgba(8, 125, 235, 1) !important;
      }

      .m-container .operation input[type="checkbox"] {
        display: inline !important;
      }

      .m-container .operation input[type="file"] {
        display: none !important;
      }

      .m-container table {
        position: relative !important;
        box-sizing: border-box !important;
        overflow: hidden !important;
        text-align: left !important;
        flex: 1 !important;
        display: flex !important;
        flex-direction: column !important;
      }

      .m-container table tr {
        margin: 5px 0 !important;
        display: flex !important;
        border-bottom: 1px solid rgba(0, 0, 0, 0.4) !important;
        justify-content: space-between;
      }

      .m-container table tr td:nth-child(1),
      .m-container table thead th:nth-child(1) {
        width: 50px;
        text-align: center !important;
      }

      .m-container table tr td:nth-child(2),
      .m-container table tr td:nth-child(3),
      .m-container table tr td:nth-child(4),
      .m-container table thead th:nth-child(2),
      .m-container table thead th:nth-child(3),
      .m-container table thead th:nth-child(4) {
        flex: 1 !important;
        text-align: center !important;
        white-space: nowrap !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
      }

      .m-container table tbody {
        flex: 1 !important;
        overflow: auto !important;
      }

      .m-container table th,
      .m-container table td {
        padding: 10px !important;
      }

      .m-container table tbody tr:nth-child(1) {
        border-bottom: 1px solid rgba(0, 0, 0, 0.4) !important;
      }

      .m-container .m-link,
      .m-container .m-link:visited {
        color: black !important;
      }

      .m-container .m-link:hover {
        color: blue !important;
        text-decoration: underline !important;
      }

      .m-container .btn {
        cursor: pointer !important;
        padding: 5px 8px !important;
        border: none !important;
        color: var(--m-font-color) !important;
        font-size: 1rem !important;
        border-radius: 20px !important;
        margin: 0 !important;
        background-color: rgba(166, 169, 173, 1) !important;
        z-index: 1000 !important;
        outline: none !important;
        box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.4), 0px 0px 1px rgba(0, 0, 0, 0.4) !important;
      }

      .m-container .btn:hover {
        box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1) !important;
      }

      .m-container .btn:hover {
        background-color: rgba(166, 169, 173, 0.6) !important;
      }

      .m-container .btn-primary {
        background-color: rgba(64, 158, 255, 1) !important;
      }

      .m-container .btn-primary:hover {
        background-color: rgba(64, 158, 255, 0.6) !important;
      }

      .m-container .btn-success {
        background-color: rgba(103, 194, 58, 1) !important;
      }

      .m-container .btn-success:hover {
        background-color: rgba(103, 194, 58, 0.6) !important;
      }

      .m-container .btn-info {
        background-color: rgba(119, 119, 119, 1) !important;
      }

      .m-container .btn-info:hover {
        background-color: rgba(119, 119, 119, 0.6) !important;
      }

      .m-container .btn-warning {
        background-color: rgba(230, 162, 60, 1) !important;
      }

      .m-container .btn-warning:hover {
        background-color: rgba(230, 162, 60, 0.6) !important;
      }

      .m-container .btn-danger {
        background-color: rgba(245, 108, 108, 1) !important;
      }

      .m-container .btn-danger:hover {
        background-color: rgba(245, 108, 108, 0.6) !important;
      }



      .m-ani-left-is-active {
        transform: translateX(0) !important;
        visibility: visible !important;
        opacity: 1 !important;
      }

      .m-ani-left-is-close {
        transform: translateX(var(--m-container-width-close)) !important;
        visibility: hidden !important;
        opacity: 0 !important;
      }

      .m-ani-right-is-active {
        transform: translateX(0) !important;
        visibility: visible !important;
        opacity: 1 !important;
      }

      .m-ani-right-is-close {
        transform: translateX(var(--m-container-width)) !important;
        visibility: hidden !important;
        opacity: 0 !important;
      }

      .m-type-container .m-type-item {
        display: flex !important;
        height: 30px !important;
      }

      .m-type-container .m-type-item .m-type-item-left {
        flex: 1 !important;
        position: relative !important;
        box-sizing: border-box !important;
        overflow: hidden !important;
      }

      .m-type-container .m-type-item .m-type-item-right {
        width: var(--m-container-operation-right-width);
        text-align: center !important;
      }

      .m-type-container .m-type-item .m-type-item-left .m-select-option-container,
      .m-type-container .m-type-item .m-type-item-left .m-select-input-container {
        transition: var(--m-container-box-transition) !important;
        position: absolute !important;
        width: 100% !important;
      }

      .m-type-container .m-select {
        display: flex !important;
      }

      .m-type-container .m-select .m-select-item {
        margin-right: 10px !important;
      }

      .m-type-container .m-select .m-select-item:last-child {
        margin-right: 0 !important;
      }

      .m-type-container .m-select select {
        width: 100px !important;
        color: rgba(119, 119, 119, 0.9) !important;
      }

      .m-type-container .m-select select::placeholder {
        color: rgba(119, 119, 119, 0.9) !important;
      }

      .m-type-container .m-tag-select {
        width: calc(var(--m-container-select-width)/2) !important;
        ;
        outline: none !important;
        border: 1px solid rgba(8, 125, 235, 0.6) !important;
        padding: 5px 8px !important;
        padding: 5px 10px !important;
      }

      .m-container select {
        border: 1px solid rgba(8, 125, 235, 1) !important;
      }


      .m-type-container .m-select .m-option-default {
        color: rgba(119, 119, 119, 0.6) !important;
      }

      .m-type-container input[type="text"] {
        width: 350px !important;
      }

      .m-type-container .m-select input {
        width: var(--m-container-input-width) !important;
      }

      .m-type-container .m-search-msg {
        color: red !important;
      }
    </style>
    <style>
      #open,
      #refesh,
      #test {
        position: fixed;
        padding: 10px 20px;
        background-color: teal !important;
        color: #fff;
        display: block;
        border: none;
        outline: none;
        cursor: pointer;
        top: 200px;
        right: 0;
      }

      #refesh {
        top: 250px;
        background-color: red !important;
      }

      #test {
        top: 300px;
        background-color: pink !important;
        color: teal !important;
      }

      body {
        height: 100vh;
      }
    </style>

  </head>

  <body>

    <div class="m-container">
      <div class="m-container-main">
        <div class="m-container-box  m-type-container m-ani-left-is-active" id="m-container-box1">
          <div class="m-type-operation">
            <div class="m-type-item">
              <div class="m-type-item-left">
                <div class="m-select-option-container m-ani-left-is-active" id="m-select-option">
                  <div class="m-select">
                    <div class="m-select-item">
                      <input type="text" class="" placeholder="输入关键词过滤">
                    </div>
                    <div class="m-select-item">
                      <select class="m-tag-select">
                        <option value="" class="m-option-default">选择分类</option>
                        <option value="option1">选项1</option>
                      </select>
                    </div>
                    <div class="m-select-item">
                      <button class="btn btn-primary">
                        &check;
                      </button>
                    </div>
                    <div class="m-select-item">
                      <select class="m-tag-select" id="select-video-tag">
                        <option value="" class="m-option-default">选择标签</option>
                        <option value="option1">选项1</option>
                        <option value="option2">选项2</option>
                        <option value="option3">选项3</option>
                        <option value="option4">选项4</option>
                        <option value="option4">选项4</option>
                        <option value="option4">选项4</option>
                        <option value="option4">选项4</option>
                        <option value="option4">选项4</option>
                        <option value="option4">选项4</option>
                        <option value="option4">选项4</option>
                        <option value="option4">选项4</option>
                        <option value="option4">选项4</option>
                        <option value="option4">选项4</option>
                      </select>
                    </div>
                    <div class="m-select-item">
                      <button class="btn btn-primary">
                        &check;
                      </button>
                    </div>
                    <div class="m-select-item">
                      <button class="btn btn-warning" id="m-select-input-address">
                        &rightarrow;
                      </button>
                    </div>
                  </div>
                </div>
                <div class="m-select-input-container m-ani-right-is-close" id="m-select-input">
                  <div class="m-category-input-item">
                    <input type="text" class="m-category-input" placeholder="输入视频地址或者自定义类型">
                    <button class="btn btn-success">
                      搜索
                    </button>
                    <button class="btn btn-primary"> &check;</button>
                    <button class="btn btn-warning" id="m-select-input-select"> &leftarrow;</button>
                  </div>
                </div>
              </div>
              <div class="m-type-item-right">
                <button class="btn btn-danger" id="m-change-box1">房间号操作</button>
              </div>
            </div>
            <div class="m-search-result">
              <span class="m-search-msg">分类:游戏 视频标签: 二次元 、原神</span>
            </div>
          </div>
          <table>
            <thead>
              <th>序号</th>
              <th>分类</th>
              <th>标签</th>
              <th>操作</th>
            </thead>
            <tbody>

            </tbody>
          </table>
        </div>
        <div class="m-container-box m-ani-right-is-close" id="m-container-box2">
          <div class="operation">
            <input type="text" placeholder="房间号或者名称...">
            <button class="btn btn-danger" id="m-change-box2">视频分类操作</button>
            <button class="btn btn-primary add-room" title="复制地址栏房间号，手动添加房间">添加</button>
            <button class="btn btn-success clear-room" title="重置表格数据">重置</button>
            <button class="btn btn-warning bg-btn" title="上传背景图">背景</button>
            <input type="file" id="file">
            <input type="checkbox" id="checkbox1" ${show1 ? 'checked' : '' } class="checkbox" title="是否显示背景" />背景
            <input type="checkbox" id="checkbox2" ${show2 ? 'checked' : '' } class="checkbox" title="是否显示左侧菜单" />菜单
            <input type="checkbox" id="checkbox3" ${show3 ? 'checked' : '' } class="checkbox" title="自动适应屏幕" />剧场
            <input type="checkbox" id="checkbox4" ${show4 ? 'checked' : '' } class="checkbox" title="是否开启礼物" />礼物
            <input type="checkbox" id="checkbox5" ${show5 ? 'checked' : '' } class="checkbox"
              title="关闭或者显示插件Logo" />logo
            <a class="m-link" href="https://greasyfork.org/zh-CN/scripts/449261-%E8%99%8E%E7%89%99%E7%9B%B4%E6%92%AD"
              target="_blank" title="更新、反馈">更新</a>
            <button class="btn btn-info btn-close-container" title="点击关闭">关闭</button>
          </div>
          <table>
            <thead>
              <th>序号</th>
              <th>名称</th>
              <th>房间号</th>
              <th>操作</th>
            </thead>
            <tbody>
            </tbody>
          </table>
        </div>
      </div>

    </div>

    <button id="open">打开</button>
    <button id="refesh">刷新</button>
    <button id="test">测试页</button>

    <script>
      function random(x) {
        return Math.floor(Math.random() * x + 1)
      }

      function randomContent(x) {
        let str = ''
        // 随机长度
        let len = random(x)
        while (len > 0) {
          str += random(x)
          len--;
        }
        return str
      }

      setTimeout(() => {

        let container = document.querySelector('.m-container')
        let mBtn = document.querySelector('#open')
        let refesh = document.querySelector('#refesh')
        let testPage = document.querySelector('#test')

        testPage.addEventListener('click', () => {
          window.location.href = './test/index.html'
        })

        let box1 = document.querySelector('#m-container-box1')
        let box2 = document.querySelector('#m-container-box2')

        let change1 = document.querySelector('.m-container #m-change-box1')
        let change2 = document.querySelector('.m-container #m-change-box2')


        let select1 = document.querySelector(
          '.m-container .m-type-item-left .m-select-option-container #m-select-input-address')
        let select2 = document.querySelector(
          '.m-container .m-type-item-left .m-select-input-container #m-select-input-select')

        let select1_box1 = document.querySelector('.m-container .m-type-item-left #m-select-option')
        let select2_box2 = document.querySelector('.m-container .m-type-item-left #m-select-input')

        change1.addEventListener('click', () => {
          box1.classList.add('m-ani-left-is-close')
          box1.classList.remove('m-ani-left-is-active')
          box2.classList.add('m-ani-right-is-active')
          box2.classList.remove('m-ani-right-is-close')
        })
        change2.addEventListener('click', () => {
          box1.classList.add('m-ani-left-is-active')
          box1.classList.remove('m-ani-left-is-close')
          box2.classList.add('m-ani-right-is-close')
          box2.classList.remove('m-ani-right-is-active')
        })



        select1.addEventListener('click', () => {
          select1_box1.classList.remove('m-ani-left-is-active')
          select1_box1.classList.add('m-ani-left-is-close')
          select2_box2.classList.remove('m-ani-right-is-close')
          select2_box2.classList.add('m-ani-right-is-active')
        })
        select2.addEventListener('click', () => {
          select1_box1.classList.add('m-ani-left-is-active')
          select1_box1.classList.remove('m-ani-left-is-close')
          select2_box2.classList.add('m-ani-right-is-close')
          select2_box2.classList.remove('m-ani-right-is-active')
        })



        let flag = false
        mBtn.addEventListener('click', (e) => {
          flag = !flag
          if (container.classList.contains('m-container-is-active')) {
            container.classList.remove(
              'm-container-is-active')
          } else {
            container.classList.add('m-container-is-active')
          }
          e.target.textContent = flag ? '关闭' : '打开'
        })

        refesh.addEventListener('click', () => {
          addContent()
        })

        let max = 100
        let maxContentLen = 10
        let tbody = document.querySelector('tbody')

        function addContent() {
          tbody.querySelectorAll('tr').forEach(tr => tr.remove())
          let arr = Array.from({
            length: random(max)
          }, () => Object.assign({}, {
            roomId: randomContent(maxContentLen),
            name: randomContent(maxContentLen)
          }))
          arr.forEach((item, index) => {
            let tr = document.createElement('tr')
            tr.style.borderBottom = '1px solid rgba(0,0,0,0.4)'
            tr.innerHTML =
              `<td >${index + 1}</td>
		                  <td >${item.name}</td>
		                  <td >${item.roomId}</td>
		                  <td><button class="btn btn-danger" room-id="${item.roomId}">删除</button></td>
		                  `
            let btn = tr.querySelector('button')
            btn.addEventListener('click', () => {
              tr.remove()
            })
            tbody.appendChild(tr)
          })

        }

        addContent()

        tbody = document.querySelector('#m-container-box2 tbody')
        addContent()
      }, 3000);
    </script>

  </body>

  </html>
